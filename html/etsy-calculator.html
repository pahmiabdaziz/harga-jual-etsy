
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kalkulator Etsy</title>
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #1a1a1a;
      --input-bg: #ffffff;
      --output-bg: #f7f7f7;
      --accent-color: #6c63ff;
      --border-radius: 8px;
      --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body.dark-mode {
      --bg-color: #121212;
      --text-color: #ffffff;
      --input-bg: #1e1e1e;
      --output-bg: #2a2a2a;
    }
    body {
      font-family: var(--font-family);
      background-color: var(--bg-color);
      color: var(--text-color);
      max-width: 800px;
      margin: auto;
      padding: 2rem;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    .top-bar select,
    .top-bar input[type="checkbox"] {
      background-color: var(--input-bg);
      color: var(--text-color);
      border: 1px solid #ccc;
      padding: 0.5rem;
      border-radius: var(--border-radius);
    }
    h1 {
      text-align: center;
      font-weight: 600;
      color: var(--accent-color);
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 500;
    }
    input, select {
      width: 100%;
      padding: 0.6rem;
      margin-top: 0.3rem;
      border: 1px solid #ccc;
      border-radius: var(--border-radius);
      background-color: var(--input-bg);
      color: var(--text-color);
    }
    button {
      background-color: var(--accent-color);
      color: white;
      padding: 0.8rem;
      margin-top: 1rem;
      border: none;
      border-radius: var(--border-radius);
      width: 100%;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s ease;
    }
    button:hover {
      background-color: #574feb;
    }
    .output {
      background-color: var(--output-bg);
      padding: 1.2rem;
      margin-top: 2rem;
      border-radius: var(--border-radius);
      font-size: 0.95rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div>
      🌐 <label for="languageSelect">Language:</label>
      <select id="languageSelect" onchange="switchLanguage()">
        <option value="id">Indonesia 🇮🇩</option>
        <option value="en">English 🇺🇸</option>
      </select>
    </div>
    <div>
      <label><input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()"> 🌙 Dark Mode</label>
    </div>
  </div>

  <h1 id="title">Kalkulator Etsy</h1>

  <label id="label-price">Harga Jual Produk ($)</label>
  <input type="number" id="price" step="0.01" />

  <label id="label-cost">Biaya Produksi / HPP ($)</label>
  <input type="number" id="cost" step="0.01" />

  <label id="label-shipping">Biaya Pengiriman ($)</label>
  <input type="number" id="shipping" step="0.01" />

  <label id="label-location">Lokasi Toko:</label>
  <select id="locationSelect" onchange="updateFeeBasedOnLocation()">
    <option value="manual">Manual</option>
    <option value="ar">🇦🇷 Argentina</option>
    <option value="au">🇦🇺 Australia (domestic)</option>
    <option value="au-int">🌐 Australia (international)</option>
    <option value="at">🇦🇹 Austria</option>
    <option value="be">🇧🇪 Belgium</option>
    <option value="br">🇧🇷 Brazil</option>
    <option value="bg">🇧🇬 Bulgaria</option>
    <option value="ca">🇨🇦 Canada (domestic/US)</option>
    <option value="ca-int">🌐 Canada (international)</option>
    <option value="cl">🇨🇱 Chile</option>
    <option value="cn">🇨🇳 China</option>
    <option value="hr">🇭🇷 Croatia</option>
    <option value="cy">🇨🇾 Cyprus</option>
    <option value="cz">🇨🇿 Czech Republic</option>
    <option value="dk">🇩🇰 Denmark</option>
    <option value="eg">🇪🇬 Egypt</option>
    <option value="ee">🇪🇪 Estonia</option>
    <option value="fi">🇫🇮 Finland</option>
    <option value="fr">🇫🇷 France</option>
    <option value="ge">🇬🇪 Georgia</option>
    <option value="de">🇩🇪 Germany</option>
    <option value="gr">🇬🇷 Greece</option>
    <option value="hk">🇭🇰 Hong Kong</option>
    <option value="hu">🇭🇺 Hungary</option>
    <option value="in">🇮🇳 India</option>
    <option value="id">🇮🇩 Indonesia</option>
    <option value="ie">🇮🇪 Ireland</option>
    <option value="il">🇮🇱 Israel</option>
    <option value="it">🇮🇹 Italy</option>
    <option value="jp">🇯🇵 Japan</option>
    <option value="kz">🇰🇿 Kazakhstan</option>
    <option value="lv">🇱🇻 Latvia</option>
    <option value="lt">🇱🇹 Lithuania</option>
    <option value="lu">🇱🇺 Luxembourg</option>
    <option value="my">🇲🇾 Malaysia</option>
    <option value="mt">🇲🇹 Malta</option>
    <option value="mx">🇲🇽 Mexico</option>
    <option value="ma">🇲🇦 Morocco</option>
    <option value="nl">🇳🇱 Netherlands</option>
    <option value="nz">🇳🇿 New Zealand (domestic)</option>
    <option value="nz-int">🌐 New Zealand (international)</option>
    <option value="no">🇳🇴 Norway</option>
    <option value="pk">🇵🇰 Pakistan</option>
    <option value="pe">🇵🇪 Peru</option>
    <option value="ph">🇵🇵 Philippines</option>
    <option value="pl">🇵🇱 Poland</option>
    <option value="pt">🇵🇹 Portugal</option>
    <option value="ro">🇷🇴 Romania</option>
    <option value="rs">🇷🇸 Serbia</option>
    <option value="sg">🇸🇬 Singapore</option>
    <option value="sk">🇸🇰 Slovakia</option>
    <option value="si">🇸🇮 Slovenia</option>
    <option value="za">🇿🇦 South Africa</option>
    <option value="kr">🇰🇷 South Korea</option>
    <option value="es">🇪🇸 Spain</option>
    <option value="se">🇸🇪 Sweden</option>
    <option value="ch">🇨🇭 Switzerland</option>
    <option value="th">🇹🇭 Thailand</option>
    <option value="tr">🇹🇷 Türkiye</option>
    <option value="ua">🇺🇦 Ukraine</option>
    <option value="ae">🇦🇪 UAE</option>
    <option value="uk">🇬🇧 United Kingdom</option>
    <option value="us">🇺🇸 United States</option>
    <option value="vn">🇻🇳 Vietnam</option>
  </select>

  <label id="label-percentFee">Biaya Payment (%):</label>
  <input type="number" id="paymentPercent" value="4" step="0.1" />

  <label id="label-fixedFee">Biaya Tetap ($):</label>
  <input type="number" id="paymentFixed" value="0.30" step="0.01" />

  <label id="label-offsite">Offsite Ads:</label>
  <select id="offsiteAds">
    <option value="0">Tidak Digunakan</option>
    <option value="0.12">12%</option>
    <option value="0.15">15%</option>
  </select>

  <button onclick="calculateProfit()" id="calculateBtn">Hitung Profit</button>

  <div class="output" id="resultBox"></div>

  <script>
    const texts = {
      en: {
        title: "Etsy Calculator",
        price: "Selling Price ($)",
        cost: "Cost of Production / COGS ($)",
        shipping: "Shipping Cost ($)",
        location: "Shop Location",
        percentFee: "Payment Fee (%)",
        fixedFee: "Fixed Fee ($)",
        offsite: "Offsite Ads",
        button: "Calculate Profit",
        resultLabel: "Details",
        profit: "Net Profit",
        totalCost: "Total Cost",
        margin: "Profit Margin",
        feeBreakdown: "Fee Breakdown",
        listingFee: "Listing Fee",
        transactionFee: "Transaction Fee (6.5%)",
        paymentFee: "Payment Fee",
        offsiteFee: "Offsite Ads Fee"
      },
      id: {
        title: "Kalkulator Etsy",
        price: "Harga Jual Produk ($)",
        cost: "Biaya Produksi / HPP ($)",
        shipping: "Biaya Pengiriman ($)",
        location: "Lokasi Toko",
        percentFee: "Biaya Pembayaran (%)",
        fixedFee: "Biaya Tetap ($)",
        offsite: "Offsite Ads",
        button: "Hitung Profit",
        resultLabel: "Rincian",
        profit: "Keuntungan Bersih",
        totalCost: "Total Biaya",
        margin: "Margin Keuntungan",
        feeBreakdown: "Rincian Biaya",
        listingFee: "Biaya Listing",
        transactionFee: "Biaya Transaksi (6.5%)",
        paymentFee: "Biaya Payment",
        offsiteFee: "Biaya Offsite Ads"
      }
    };

    let currentLang = "id";

    function switchLanguage() {
      currentLang = document.getElementById("languageSelect").value;
      const t = texts[currentLang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("label-price").innerText = t.price;
      document.getElementById("label-cost").innerText = t.cost;
      document.getElementById("label-shipping").innerText = t.shipping;
      document.getElementById("label-location").innerText = t.location;
      document.getElementById("label-percentFee").innerText = t.percentFee;
      document.getElementById("label-fixedFee").innerText = t.fixedFee;
      document.getElementById("label-offsite").innerText = t.offsite;
      document.getElementById("calculateBtn").innerText = t.button;
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function updateFeeBasedOnLocation() {
      const loc = document.getElementById("locationSelect").value;
      const percent = document.getElementById("paymentPercent");
      const fixed = document.getElementById("paymentFixed");
      const feeMap = {
        ar: [6.5, 0.30],
        au_domestic: [3, 0.25],
        au_international: [4, 0.25],
        at: [4, 0.30],
        be: [4, 0.30],
        br: [6.5, 0.30],
        bg: [4, 0.30],
        ca_domestic: [3, 0.25],
        ca_international: [4, 0.25],
        cl: [6.5, 0.30],
        cn: [6.5, 0.30],
        hr: [4, 0.30],
        cy: [4, 0.30],
        cz: [4, 0.30],
        dk: [4, 2.50],
        eg: [6.5, 0.30],
        ee: [4, 0.30],
        fi: [4, 0.30],
        fr: [4, 0.30],
        ge: [6.5, 0.30],
        de: [4, 0.30],
        gr: [4, 0.30],
        hk: [4.4, 2.00],
        hu: [4, 0.30],
        in: [5, 25],
        id: [4.5, 7000],
        ie: [4, 0.30],
        il: [4.5, 2],
        it: [4, 0.30],
        jp: [6.0, 0.30],
        kz: [6.5, 0.30],
        lv: [4, 0.30],
        lt: [4, 0.30],
        lu: [4, 0.30],
        my: [4.5, 2],
        mt: [4, 0.30],
        mx: [4.5, 8],
        ma: [4.5, 5],
        nl: [4, 0.30],
        nz_domestic: [3, 0.30],
        nz_international: [4, 0.30],
        no: [4, 2.50],
        pk: [6.5, 0.30],
        pe: [6.5, 0.30],
        ph: [4.5, 25],
        pl: [4, 0.30],
        pt: [4, 0.30],
        ro: [4, 0.30],
        rs: [6.5, 0.30],
        sg: [4.4, 0.35],
        sk: [4, 0.30],
        si: [4, 0.30],
        za: [4.5, 8],
        kr: [6.5, 0.30],
        es: [4, 0.30],
        se: [4, 3.00],
        ch: [4, 0.50],
        th: [6, 0.30],
        tr: [6.5, 14],
        ua: [6.0, 0.30],
        ae: [6.5, 0.30],
        uk: [4, 0.20],
        us: [3, 0.25],
        vn: [4.5, 11500]
      };
      if (feeMap[loc]) {
        percent.value = feeMap[loc][0];
        fixed.value = feeMap[loc][1];
      }
    }

    function calculateProfit() {
      const t = texts[currentLang];
      const price = parseFloat(document.getElementById("price").value) || 0;
      const cost = parseFloat(document.getElementById("cost").value) || 0;
      const shipping = parseFloat(document.getElementById("shipping").value) || 0;
      const paymentPercent = parseFloat(document.getElementById("paymentPercent").value) || 0;
      const paymentFixed = parseFloat(document.getElementById("paymentFixed").value) || 0;
      const offsiteRate = parseFloat(document.getElementById("offsiteAds").value) || 0;
      const listingFee = 0.20;
      const transactionFee = 0.065 * price;
      const paymentFee = (paymentPercent / 100) * price + paymentFixed;
      const offsiteFee = offsiteRate * price;
      const totalFees = listingFee + transactionFee + paymentFee + offsiteFee;
      const totalCost = cost + shipping + totalFees;
      const profit = price - totalCost;
      const margin = (profit / price) * 100;

      document.getElementById("resultBox").innerHTML = `
        <strong>${t.resultLabel}</strong><br>
        ${t.totalCost}: $${totalCost.toFixed(2)}<br>
        ${t.profit}: $${profit.toFixed(2)}<br>
        ${t.margin}: ${margin.toFixed(1)}%<br><br>
        <strong>${t.feeBreakdown}:</strong><br>
        ${t.listingFee}: $${listingFee.toFixed(2)}<br>
        ${t.transactionFee}: $${transactionFee.toFixed(2)}<br>
        ${t.paymentFee}: $${paymentFee.toFixed(2)}<br>
        ${t.offsiteFee}: $${offsiteFee.toFixed(2)}<br>
      `;
    }

    switchLanguage();
  </script>
</body>
</html>
